<!DOCTYPE html>
<html>
  <head>
    <title>The Insecure Blog - an example app to learn about rails security</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>    
  </head>

  <body class="mdl-demo mdl-color--grey-100 mdl-color-text--grey-700 mdl-base">
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
      <header class="mdl-layout__header mdl-layout__header--scroll mdl-color--primary">
        <div class="mdl-layout--large-screen-only mdl-layout__header-row">
        </div>
        <div class="mdl-layout--large-screen-only mdl-layout__header-row">
          <h3><%= link_to "The Insecure Blog", root_path, class: 'text-decoration-none color-white' %></h3>
        </div>
        <div class=" mdl-layout__header-row">
          <nav class="mdl-navigation mdl-typography--body-1-force-preferred-font">
            <%= link_to "Articles", articles_path, class: 'mdl-navigation__link' %>         
            <%= link_to "Users", users_path, class: 'mdl-navigation__link' %>
            <%= link_to "Help", static_pages_help_path, class: 'mdl-navigation__link' %>
          </nav>
             <div class="mdl-layout-spacer"></div>
          <nav class="mdl-navigation mdl-typography--body-1-force-preferred-font">

            <% if current_user %>
              Logged in as <%= current_user.name %>
              <%= link_to_unless_current "Log out", log_out_path, class: 'mdl-navigation__link' %>
            <% else %>
              <%= link_to_unless_current "Sign up", sign_up_path, class: 'mdl-navigation__link' %> 
              <%= link_to_unless_current "Log in",  log_in_path, class: 'mdl-navigation__link'  %>
            <% end %>            
          </nav>
        </div>        
      </header>
      <main>
      <% if notice.present? %>
        <div id="demo-toast-example" class="mdl-js-snackbar mdl-snackbar">
          <div class="mdl-snackbar__text"><%= notice %></div>
          <button class="mdl-snackbar__action" type="button"></button>
        </div>
      <% end %>
      <div class="mdl-grid">
        <div class="mdl-cell mdl-cell--12-col">
          <%= yield %>
        </div>
      </div>
      </main>
    </div>
  </body>
</html>
